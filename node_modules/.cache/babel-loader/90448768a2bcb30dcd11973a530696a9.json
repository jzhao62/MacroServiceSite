{"ast":null,"code":"import _objectWithoutProperties from\"/home/jingyi/my-fullstack-app/site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import _regeneratorRuntime from\"/home/jingyi/my-fullstack-app/site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/jingyi/my-fullstack-app/site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/jingyi/my-fullstack-app/site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/jingyi/my-fullstack-app/site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/jingyi/my-fullstack-app/site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/jingyi/my-fullstack-app/site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{BrowserRouter as Router,Switch,Route}from'react-router-dom';import Home from'./pages/Home/Home';import Auth from'./pages/Auth/Auth';import Dashboard from'./pages/Dashboard/Dashboard';import{getSession}from'./utils';var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.state={};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:case\"end\":return _context.stop();}}},_callee);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(Router,null,/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{path:\"/register\"},/*#__PURE__*/React.createElement(Auth,null)),/*#__PURE__*/React.createElement(Route,{path:\"/login\"},/*#__PURE__*/React.createElement(Auth,null)),/*#__PURE__*/React.createElement(PrivateRoute,{exact:true,path:\"/\",component:Dashboard})));}}]);return App;}(Component);/**\n * A component to protect routes.\n * Shows Auth page if the user is not authenticated\n */export{App as default};var PrivateRoute=function PrivateRoute(_ref){var component=_ref.component,options=_objectWithoutProperties(_ref,[\"component\"]);var session=getSession();var finalComponent=session?Dashboard:Home;return/*#__PURE__*/React.createElement(Route,Object.assign({},options,{component:finalComponent}));};","map":{"version":3,"sources":["/home/jingyi/my-fullstack-app/site/src/App.js"],"names":["React","Component","BrowserRouter","Router","Switch","Route","Home","Auth","Dashboard","getSession","App","props","state","PrivateRoute","component","options","session","finalComponent"],"mappings":"gjCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OACEC,aAAa,GAAIC,CAAAA,MADnB,CAEEC,MAFF,CAGEC,KAHF,KAIO,kBAJP,CAKA,MAAOC,CAAAA,IAAP,KAAiB,mBAAjB,CACA,MAAOC,CAAAA,IAAP,KAAiB,mBAAjB,CACA,MAAOC,CAAAA,SAAP,KAAsB,6BAAtB,CACA,OAASC,UAAT,KAA2B,SAA3B,C,GAEqBC,CAAAA,G,0FAEnB,aAAYC,KAAZ,CAAmB,qCACjB,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,EAAb,CAFiB,aAGlB,C,2IAED,kL,mIAIA,iBAAS,CACP,mBACE,oBAAC,MAAD,mBACE,oBAAC,MAAD,mBAEE,oBAAC,KAAD,EAAO,IAAI,CAAC,WAAZ,eACE,oBAAC,IAAD,MADF,CAFF,cAME,oBAAC,KAAD,EAAO,IAAI,CAAC,QAAZ,eACE,oBAAC,IAAD,MADF,CANF,cAUE,oBAAC,YAAD,EACE,KAAK,KADP,CAEE,IAAI,CAAC,GAFP,CAGE,SAAS,CAAEJ,SAHb,EAVF,CADF,CADF,CAqBD,C,iBAjC8BP,S,EAoCjC;AACA;AACA;AACA,G,OAvCqBS,G,aAwCrB,GAAMG,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,MAA+B,IAA5BC,CAAAA,SAA4B,MAA5BA,SAA4B,CAAdC,OAAc,8CAElD,GAAMC,CAAAA,OAAO,CAAGP,UAAU,EAA1B,CAEA,GAAMQ,CAAAA,cAAc,CAAGD,OAAO,CAAGR,SAAH,CAAeF,IAA7C,CACA,mBAAO,oBAAC,KAAD,kBAAWS,OAAX,EAAoB,SAAS,CAAEE,cAA/B,GAAP,CACD,CAND","sourcesContent":["import React, { Component } from 'react'\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n} from 'react-router-dom'\nimport Home from './pages/Home/Home'\nimport Auth from './pages/Auth/Auth'\nimport Dashboard from './pages/Dashboard/Dashboard'\nimport { getSession } from './utils'\n\nexport default class App extends Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {}\n  }\n\n  async componentDidMount() {\n    // console.log(getSession())\n  }\n\n  render() {\n    return (\n      <Router>\n        <Switch>\n\n          <Route path='/register'>\n            <Auth />\n          </Route>\n\n          <Route path='/login'>\n            <Auth />\n          </Route>\n\n          <PrivateRoute\n            exact\n            path='/'\n            component={Dashboard}\n          />\n\n        </Switch>\n      </Router>\n    )\n  }\n}\n\n/**\n * A component to protect routes.\n * Shows Auth page if the user is not authenticated\n */\nconst PrivateRoute = ({ component, ...options }) => {\n\n  const session = getSession()\n\n  const finalComponent = session ? Dashboard : Home\n  return <Route {...options} component={finalComponent} />\n}"]},"metadata":{},"sourceType":"module"}