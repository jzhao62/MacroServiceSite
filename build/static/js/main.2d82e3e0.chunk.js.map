{"version":3,"sources":["pages/Auth/Auth.module.css","pages/Home/Home.module.css","pages/Dashboard/Dashboard.module.css","fragments/Loading/Loading.module.css","pages/Home/Home.js","fragments/Loading/Loading.js","utils/helpers.js","config.js","utils/api.js","pages/Auth/Auth.js","pages/Dashboard/Dashboard.js","App.js","index.js"],"names":["module","exports","Home","props","state","a","className","styles","container","containerInner","heroArtwork","draggable","src","alt","heroTitle","heroDescription","containerCta","to","linkSignIn","Component","withRouter","Loading","this","getSession","data","Cookies","get","JSON","parse","config","domains","api","userRegister","email","password","requestApi","userLogin","userGet","token","Authorization","path","method","headers","Error","startsWith","url","Object","assign","fetch","toUpperCase","mode","cache","body","stringify","response","status","json","error","Auth","pathName","window","location","pathname","replace","loading","formEmail","formPassword","handleFormInput","bind","handleFormSubmit","handleFormTypeChange","setState","document","href","history","pushState","split","type","push","field","value","trim","nextState","evt","preventDefault","formError","console","log","message","user","userId","id","userEmail","userToken","set","logo","containerLoading","formType","formTypeRegister","formTypeActive","onClick","e","formTypeSignIn","containerRegister","form","onSubmit","formField","formLabel","placeholder","formInput","onChange","target","formButton","containerSignIn","Dashboard","logout","userSession","session","remove","navigationContainer","contentContainer","artwork","welcomeMessage","App","exact","component","PrivateRoute","options","finalComponent","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2d82e3e0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Auth_container__38MaD\",\"containerInner\":\"Auth_containerInner__CqDBZ\",\"containerLoading\":\"Auth_containerLoading__3SpOz\",\"logo\":\"Auth_logo__QQbsI\",\"error\":\"Auth_error__mgYyx\",\"success\":\"Auth_success__w7pcp\",\"containerRegister\":\"Auth_containerRegister__1rRg4\",\"containerSignIn\":\"Auth_containerSignIn__3ji1h\",\"formType\":\"Auth_formType__qgBvB\",\"formTypeRegister\":\"Auth_formTypeRegister__2vihV\",\"formTypeSignIn\":\"Auth_formTypeSignIn__1mpek\",\"formTypeActive\":\"Auth_formTypeActive__1PvA-\",\"form\":\"Auth_form__3CaJd\",\"formField\":\"Auth_formField__bK1gG\",\"formLabel\":\"Auth_formLabel__1WaRu\",\"formInput\":\"Auth_formInput__3SJPf\",\"formError\":\"Auth_formError__ZM6ss\",\"formButton\":\"Auth_formButton__1s0uG\",\"forgotPassword\":\"Auth_forgotPassword__3-P9H\",\"githubLink\":\"Auth_githubLink__3XiqP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Home_container__1s89M\",\"containerInner\":\"Home_containerInner__2o1oM\",\"heroArtwork\":\"Home_heroArtwork__20dAe\",\"heroTitle\":\"Home_heroTitle__tMDRC\",\"heroDescription\":\"Home_heroDescription__3zxD7\",\"containerCta\":\"Home_containerCta__1qyyG\",\"linkSignIn\":\"Home_linkSignIn__3QHgg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Dashboard_container__3R_9z\",\"containerInner\":\"Dashboard_containerInner__2p9Zk\",\"navigationContainer\":\"Dashboard_navigationContainer__2i260\",\"contentContainer\":\"Dashboard_contentContainer__1A5L2\",\"welcomeMessage\":\"Dashboard_welcomeMessage__1cAsB\",\"artwork\":\"Dashboard_artwork__3pje2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Loading_container__1NL59\",\"pulse\":\"Loading_pulse__LlQRi\"};","import React, { Component } from 'react'\nimport {\n  Link,\n  withRouter\n} from 'react-router-dom'\nimport styles from './Home.module.css'\n\nclass Home extends Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {}\n  }\n\n  async componentDidMount() { }\n\n  render() {\n\n    return (\n      <div className={`${styles.container} animateFadeIn`}>\n        <div className={styles.containerInner}>\n\n          { /* Hero Artwork */}\n\n          <div className={`${styles.heroArtwork} animateFlicker`}>\n            <img\n              draggable='false'\n              src={'./fullstack-app-artwork.png'}\n              alt='serverless-fullstack-application'\n            />\n          </div>\n          <div className={`${styles.heroTitle}`}>\n            <img\n              draggable='false'\n              src={'./fullstack-app-title.png'}\n              alt='serverless-fullstack-application'\n            />\n          </div>\n\n          { /* Hero Description */}\n\n          <div className={`${styles.heroDescription}`}>\n            A serverless full-stack application built with AWS Lambda, AWS HTTP API, Express.js, React & AWS DynamoDB.\n          </div>\n\n          { /* Call To Action */}\n\n          <div className={`${styles.containerCta}`}>\n\n            <Link to='/register'>\n              <button className={`buttonPrimaryLarge`}>\n                Register\n              </button>\n            </Link>\n\n            <Link to='/login' className={`${styles.linkSignIn}`}>sign-in</Link>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default withRouter(Home)","import React, { Component } from 'react'\nimport styles from './Loading.module.css'\n\nexport default class Loading extends Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {}\n  }\n\n  async componentDidMount() {}\n\n  render() {\n    return (\n      <div className={`${this.props.className}`}>\n        <div className={`${styles.container}`}>\n\n          <img\n            draggable={false}\n            alt={`Loading`}\n            src={\n              'https://s3.amazonaws.com/dashboard.serverless.com/images/icon-serverless-framework.png'\n            }\n          />\n\n          <p>loading...</p>\n\n        </div>\n      </div>\n    )\n  }\n}","import Cookies from 'js-cookie'\n\n/**\n * Format Org and Username correctly for the Serverless Platform backend\n */\nexport const formatOrgAndUsername = (name = '') => {\n   name = name.toString().toLowerCase().replace(/[^a-z\\d-]+/gi, '-')\n   // Remove multiple instances of hyphens\n   name = name.replace(/-{2,}/g, '-')\n   if (name.length > 40) {\n     name = name.substring(0, 40)\n   }\n   return name\n}\n\n/**\n * Parse query parameters in a URL\n * @param {*} searchString \n */\nexport const parseQueryParams = (searchString = null) => {\n  if (!searchString) {\n    return null\n  }\n\n  // Clone string\n  let clonedParams = (' ' + searchString).slice(1)\n\n  return clonedParams\n    .substr(1)\n    .split('&')\n    .filter((el) => el.length)\n    .map((el) => el.split('='))\n    .reduce(\n      (accumulator, currentValue) =>\n        Object.assign(accumulator, {\n          [decodeURIComponent(currentValue.shift())]: decodeURIComponent(currentValue.pop())\n        }),\n      {}\n    )\n}\n\n/**\n * Parse hash fragment parameters in a URL\n */\nexport const parseHashFragment = (hashString) => {\n  const hashData = {}\n  let hash = decodeURI(hashString)\n  hash = hash.split('&')\n  hash.forEach((val) => {\n    val = val.replace('#', '')\n    hashData[val.split('=')[0]] = val.split('=')[1]\n  })\n  return hashData\n}\n\n/**\n * Save session in browser cookie\n */\nexport const saveSession = (userId, userEmail, userToken) => {\n  Cookies.set('serverless', { userId, userEmail, userToken })\n}\n\n/**\n * Get session in browser cookie\n */\nexport const getSession = () => {\n  const data = Cookies.get('serverless')\n  return data ? JSON.parse(data) : null\n}\n\n/**\n * Delete session in browser cookie\n */\nexport const deleteSession = () => {\n  Cookies.remove('serverless')\n}","/**\n * Global Config\n */\n\nconst config = {}\n\n// Domains\nconfig.domains = {}\n\n/**\n * API Domain\n * Add the domain from your serverless express.js back-end here.\n * This will enable your front-end to communicate with your back-end.\n * (e.g. 'https://api.mydomain.com' or 'https://091jafsl10.execute-api.us-east-1.amazonaws.com')\n */\nconfig.domains.api = \"https://44513jpdra.execute-api.us-east-1.amazonaws.com\"\n\nexport default config","/**\n * Utils: Back-end\n */\n\nimport config from '../config'\n\n/**\n * Register a new user\n */\nexport const userRegister = async (email, password) => {\n  return await requestApi('/users/register', 'POST', { email, password })\n}\n\n/**\n * Login a new user\n */\nexport const userLogin = async (email, password) => {\n  return await requestApi('/users/login', 'POST', { email, password })\n}\n\n/**\n * userGet\n */\nexport const userGet = async (token) => {\n  return await requestApi('/user', 'POST', null, {\n    Authorization: `Bearer ${token}`\n  })\n}\n\n/**\n * API request to call the backend\n */\nexport const requestApi = async (\n  path = '',\n  method = 'GET',\n  data = null,\n  headers = {}) => {\n\n  // Check if API URL has been set\n  if (!config?.domains?.api) {\n    throw new Error(`Error: Missing API Domain – Please add the API domain from your serverless Express.js back-end to this front-end application.  You can do this in the \"site\" folder, in the \"./config.js\" file.  Instructions are listed there and in the documentation.`)\n  }\n\n  // Prepare URL\n  if (!path.startsWith('/')) {\n    path = `/${path}`\n  }\n  const url = `${config.domains.api}${path}`\n\n  // Set headers\n  headers = Object.assign(\n    { 'Content-Type': 'application/json' },\n    headers\n  )\n\n  // Default options are marked with *\n  const response = await fetch(url, {\n    method: method.toUpperCase(),\n    mode: 'cors',\n    cache: 'no-cache',\n    headers,\n    body: data ? JSON.stringify(data) : null\n  })\n\n  if (response.status < 200 || response.status >= 300) {\n    const error = await response.json()\n    throw new Error(error.error)\n  }\n\n  return await response.json()\n}","import React, { Component } from 'react'\nimport {\n  Link,\n  withRouter,\n} from 'react-router-dom'\nimport Loading from '../../fragments/Loading'\nimport styles from './Auth.module.css'\nimport {\n  userRegister,\n  userLogin,\n  userGet,\n  saveSession,\n} from '../../utils'\n\nclass Auth extends Component {\n\n  constructor(props) {\n    super(props)\n\n    const pathName = window.location.pathname.replace('/', '')\n\n    this.state = {}\n    this.state.state = pathName\n    this.state.loading = true\n    this.state.error = null\n    this.state.formEmail = ''\n    this.state.formPassword = ''\n\n    // Bindings\n    this.handleFormInput = this.handleFormInput.bind(this)\n    this.handleFormSubmit = this.handleFormSubmit.bind(this)\n    this.handleFormTypeChange = this.handleFormTypeChange.bind(this)\n  }\n\n  /**\n   * Component did mount\n   */\n  componentDidMount() {\n    this.setState({\n      loading: false\n    })\n\n    // Clear query params\n    const url = document.location.href\n    window.history.pushState({}, '', url.split('?')[0])\n  }\n\n  /**\n   * Handles a form change\n   */\n  handleFormTypeChange(type) {\n    this.setState({ state: type },\n      () => {\n        this.props.history.push(`/${type}`)\n      })\n  }\n\n  /**\n   * Handle text changes within form fields\n   */\n  handleFormInput(field, value) {\n    value = value.trim()\n\n    const nextState = {}\n    nextState[field] = value\n\n    this.setState(Object.assign(this.state, nextState))\n  }\n\n  /**\n   * Handles form submission\n   * @param {object} evt \n   */\n  async handleFormSubmit(evt) {\n    evt.preventDefault()\n\n    this.setState({ loading: true })\n\n    // Validate email\n    if (!this.state.formEmail) {\n      return this.setState({\n        loading: false,\n        formError: 'email is required'\n      })\n    }\n\n    // Validate password\n    if (!this.state.formPassword) {\n      return this.setState({\n        loading: false,\n        formError: 'password is required'\n      })\n    }\n\n    let token\n    try {\n      if (this.state.state === 'register') {\n        token = await userRegister(this.state.formEmail, this.state.formPassword)\n      } else {\n        token = await userLogin(this.state.formEmail, this.state.formPassword)\n      }\n    } catch (error) {\n      console.log(error)\n      if (error.message) {\n        this.setState({\n          formError: error.message,\n          loading: false\n        })\n      } else {\n        this.setState({\n          formError: 'Sorry, something unknown went wrong.  Please try again.',\n          loading: false\n        })\n      }\n      return\n    }\n\n    // Fetch user record and set session in cookie\n    let user = await userGet(token.token)\n    user = user.user\n    saveSession(user.id, user.email, token.token)\n\n    window.location.replace('/')\n  }\n\n  render() {\n\n    return (\n      <div className={`${styles.container} animateFadeIn`}>\n        <div className={styles.containerInner}>\n\n          { /* Logo */}\n\n          <Link to='/' className={`${styles.logo}`}>\n            <img\n              draggable='false'\n              src={'./fullstack-app-title.png'}\n              alt='serverless-fullstack-application'\n            />\n          </Link>\n\n          { /* Loading */}\n\n          {this.state.loading && (\n            <div>\n              {< Loading className={styles.containerLoading} />}\n            </div>\n          )}\n\n          { /* Registration Form */}\n\n          {!this.state.loading && (\n            <div className={styles.formType}>\n              <div\n                className={\n                  `${styles.formTypeRegister} \n                ${this.state.state === 'register' ? styles.formTypeActive : ''}`}\n                onClick={(e) => { this.handleFormTypeChange('register') }}>\n                Register\n              </div>\n              <div\n                className={\n                  `${styles.formTypeSignIn} \n                ${this.state.state === 'login' ? styles.formTypeActive : ''}`}\n                onClick={(e) => { this.handleFormTypeChange('login') }}>\n                Sign-In\n              </div>\n            </div>\n          )}\n\n          {this.state.state === 'register' && !this.state.loading && (\n            <div className={styles.containerRegister}>\n\n              <form className={styles.form} onSubmit={this.handleFormSubmit}>\n                <div className={styles.formField}>\n                  <label className={styles.formLabel}>email</label>\n                  <input\n                    type='text'\n                    placeholder='yours@example.com'\n                    className={styles.formInput}\n                    value={this.state.formEmail}\n                    onChange={(e) => { this.handleFormInput('formEmail', e.target.value) }}\n                  />\n                </div>\n                <div className={styles.formField}>\n                  <label className={styles.formLabel}>password</label>\n                  <input\n                    type='password'\n                    placeholder='your password'\n                    className={styles.formInput}\n                    value={this.state.formPassword}\n                    onChange={(e) => { this.handleFormInput('formPassword', e.target.value) }}\n                  />\n                </div>\n\n                {this.state.formError && (\n                  <div className={styles.formError}>{this.state.formError}</div>\n                )}\n\n                <input\n                  className={`buttonPrimaryLarge ${styles.formButton}`}\n                  type='submit'\n                  value='Register'\n                />\n\n              </form>\n            </div>\n          )}\n\n          {this.state.state === 'login' && !this.state.loading && (\n            <div className={styles.containerSignIn}>\n\n              <form className={styles.form} onSubmit={this.handleFormSubmit}>\n                <div className={styles.formField}>\n                  <label className={styles.formLabel}>email</label>\n                  <input\n                    type='text'\n                    placeholder='yours@example.com'\n                    className={styles.formInput}\n                    value={this.state.formEmail}\n                    onChange={(e) => { this.handleFormInput('formEmail', e.target.value) }}\n                  />\n                </div>\n                <div className={styles.formField}>\n                  <label className={styles.formLabel}>password</label>\n                  <input\n                    type='password'\n                    placeholder='your password'\n                    className={styles.formInput}\n                    value={this.state.formPassword}\n                    onChange={(e) => { this.handleFormInput('formPassword', e.target.value) }}\n                  />\n                </div>\n\n                {this.state.formError && (\n                  <div className={styles.formError}>{this.state.formError}</div>\n                )}\n\n                <input className={`buttonPrimaryLarge ${styles.formButton}`} type='submit' value='Sign In' />\n              </form>\n            </div>\n          )}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default withRouter(Auth)","import React, { Component } from 'react'\nimport { \n  withRouter \n} from 'react-router-dom'\nimport styles from './Dashboard.module.css'\nimport {\n  getSession,\n  deleteSession \n} from '../../utils'\n\nclass Dashboard extends Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {}\n\n    // Bindings\n    this.logout = this.logout.bind(this)\n  }\n\n  async componentDidMount() {\n\n    const userSession = getSession()\n\n    this.setState({\n      session: userSession,\n    })\n  }\n\n  /**\n   * Log user out by clearing cookie and redirecting\n   */\n  logout() {\n    deleteSession()\n    this.props.history.push(`/`)\n  }\n\n  render() {\n\n    return (\n      <div className={`${styles.container} animateFadeIn`}>\n        <div className={styles.containerInner}>\n\n          { /* Navigation */ }\n\n          <div className={styles.navigationContainer}>\n            <div \n              className={`link`}>\n                { this.state.session ? this.state.session.userEmail : '' }\n              </div>\n            <div \n              className={`link`}\n              onClick={this.logout}>\n                logout\n              </div>\n          </div>\n\n          { /* Content */ }\n\n          <div className={`${styles.contentContainer}`}>\n\n            <div className={`${styles.artwork} animateFlicker`}>\n              <img \n                draggable='false'\n                src={'./fullstack-app-artwork.png'} \n                alt='serverless-fullstack-application' \n              />\n            </div>\n\n            <div className={`${styles.welcomeMessage}`}>\n              Welcome to your serverless fullstack dashboard...\n            </div>\n\n          </div>\n          \n        </div>\n      </div>\n    )\n  }\n}\n\nexport default withRouter(Dashboard)","import React, { Component } from 'react'\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n} from 'react-router-dom'\nimport Home from './pages/Home/Home'\nimport Auth from './pages/Auth/Auth'\nimport Dashboard from './pages/Dashboard/Dashboard'\nimport { getSession } from './utils'\n\nexport default class App extends Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {}\n  }\n\n  async componentDidMount() {\n    // console.log(getSession())\n  }\n\n  render() {\n    return (\n      <Router>\n        <Switch>\n\n          <Route path='/register'>\n            <Auth />\n          </Route>\n\n          <Route path='/login'>\n            <Auth />\n          </Route>\n\n          <PrivateRoute\n            exact\n            path='/'\n            component={Dashboard}\n          />\n\n        </Switch>\n      </Router>\n    )\n  }\n}\n\n/**\n * A component to protect routes.\n * Shows Auth page if the user is not authenticated\n */\nconst PrivateRoute = ({ component, ...options }) => {\n\n  const session = getSession()\n\n  const finalComponent = session ? Dashboard : Home\n  return <Route {...options} component={finalComponent} />\n}","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\n/**\n * Render App\n */\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)"],"sourceRoot":""}